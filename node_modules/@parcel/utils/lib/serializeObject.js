"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = serializeObject;

var _terser = require("terser");

var _serializeToJs = _interopRequireDefault(require("serialize-to-js"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function serializeObject(obj, shouldMinify = false) {
  let code = `module.exports = ${(0, _serializeToJs.default)(obj)};`;

  if (shouldMinify) {
    let minified = (0, _terser.minify)(code);

    if (minified.error) {
      throw minified.error;
    }

    code = minified.code;
  }

  return code;
}
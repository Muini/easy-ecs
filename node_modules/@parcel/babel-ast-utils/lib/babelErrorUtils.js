"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.babelErrorEnhancer = babelErrorEnhancer;

async function babelErrorEnhancer(error, asset) {
  if (error.loc) {
    error.message = error.message.slice(asset.filePath.length + 1, error.message.indexOf('\n')).trim();
  }

  error.source = await asset.getCode();
  error.filePath = asset.filePath;
  return error;
}
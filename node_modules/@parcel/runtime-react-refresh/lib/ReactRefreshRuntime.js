"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _plugin = require("@parcel/plugin");

const CODE = `
var Refresh = require('react-refresh/runtime');

Refresh.injectIntoGlobalHook(window);
window.$RefreshReg$ = function() {};
window.$RefreshSig$ = function() {
  return function(type) {
    return type;
  };
};`;

var _default = new _plugin.Runtime({
  async apply({
    bundle,
    options
  }) {
    if (bundle.type !== 'js' || !options.hot || !bundle.env.isBrowser() || options.mode !== 'development') {
      return;
    }

    let mainEntry = bundle.getMainEntry();

    if (mainEntry) {
      let pkg = await mainEntry.getPackage();

      if (pkg && pkg.dependencies && pkg.dependencies['react']) {
        return {
          filePath: __filename,
          code: CODE,
          isEntry: true
        };
      }
    }
  }

});

exports.default = _default;